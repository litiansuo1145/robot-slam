# ekf.yaml
ekf_filter_node:
  ros__parameters:
    frequency: 30.0  # 滤波器更新频率

    # 【重要】坐标系配置
    odom_frame: odom          # EKF 将会发布的里程计坐标系名称
    base_link_frame: base_link  # 您的机器人基座坐标系名称 (请根据您的 URDF 修改)
    world_frame: odom         # EKF 的世界坐标系，对于里程计，通常就是 odom

    # 【重要】传感器输入配置
    # 我们将 /imu 话题作为输入源
    imu0: /imu
    imu0_config: [
      false, false, false, # 不使用x, y, z位置
      true,  true,  true,  # 使用 roll, pitch, yaw 方向
      false, false, false, # 不使用 vx, vy, vz 速度
      true,  true,  true,  # 使用 roll, pitch, yaw 的角速度
      false, false, false  # 不使用 ax, ay, az 线性加速度
    ]
    imu0_differential: false # IMU数据不是变化率
    imu0_remove_gravitational_acceleration: true # 建议开启，以移除重力影响